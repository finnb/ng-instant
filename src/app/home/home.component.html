<div class="container">
  <div class="row">

    <div class="col-md-10 offset-md-1">
      <div #scrollMe class="bs-example" id="messages">

        <div *ngFor="let message of messages | async">
          <div class="bubble" [class.you]="isYou(message.email)" [class.me]="isMe(message.email)">
            <p *ngIf="message.message">{{ message.message }}</p>
            <p *ngIf="message.imageUrl"><img [src]="message.imageUrl" class="img-fluid" (load)="scrollToBottom()"></p>
            <div class="author">
              {{ message.displayName }} | {{ message.timestamp | date:"dd/MM/yy hh:mm a" }}
            </div>
          </div>
        </div>

      </div>
    </div>

  </div>
</div>
<footer>
  <div class="col-md-8 offset-md-2">
    <span class="text-muted">
      <div class="input-group">
        
        <input type="textarea" class="form-control" placeholder="Nhập nội dung chat..."
          [(ngModel)]="newMessage" (keyup.enter)="sendMessage()">

        <input accept="image/*,capture=camera" id="mediaCapture"
            [(ngModel)]="newImage" #mediaCapture (change)="onSelectImageFile($event)" type="file" style="display: none;">
        <span class="input-group-btn">
          <button class="btn btn-secondary" type="button" (click)="mediaCapture.click()" id="submitImage">
            <i class="fa fa-picture-o" aria-hidden="true" title="Hình ảnh"></i>
          </button>
        </span>
    <span class="input-group-btn">
          <button class="btn btn-secondary" (click)="sendMessage()" type="button" [disabled]="!newMessage">
            <i class="fa fa-paper-plane" aria-hidden="true" title="Gửi"></i>
          </button>
        </span>
  </div>
  </span>
  </div>
</footer>
